## Алгебра кватернионов
Здесь представлен лишь один из миллиарда способов ввести кватернионы вообще, не буду вдаваться в подробности про мнимые единицы и т.д.
Рассмотрим множество всех пар вида $\left( a, \vec{v} \right)$ таких, что $a \in R, \vec{v} \in R^3$.
Каждую такую пару можно умножить на скаляр:
$$\alpha (a, \vec{v}) = (\alpha a, \alpha \vec{v})$$
Определим операции сложения и умножения таких пар:
$$
\begin{align*}
&(a_1, \vec{v_1}) + (a_2, \vec{v_2}) = (a_1+a_2, \vec{v_1} + \vec{v_2}) \\
&(a, \vec{u})  \cdot (b, \vec{v}) = (ab - \vec{u} \cdot \vec{v}, a\vec{v} + b\vec{u} + \vec{u} \times \vec{v})
\end{align*}
$$
Такие пары также часто записываются в виде $a+\vec{v}$. То есть поняли типа складываем скаляр и вектор! :)

И еще определяем операцию взятия обратного:
$$(a+\vec{v})^{-1} = \dfrac{a - \vec{v}}{a^2 + v^2}$$

Алгебра кватернионов - алгебра над полем вещественных чисел с введенными операциями сложения, умножения на скаляр и умножения кватернионов.
В данной алгебре присутствует единица $(1, \vec{0})$, для всех элементов кроме нуля $(0, \vec{0})$ существуют обратные.

## Кватернионы и вращения
Рассмотрим кватернионы вида:
$$q = \cos{\frac{\alpha}{2}} + \vec{u} \sin{\frac{\alpha}{2}}, |\vec{u}| = 1,$$
где $\alpha$ - угол поворота,
$\vec{u}$ - единичный вектор оси вращения.

Тогда произведение $\vec{v'} = q\vec{v}q^{-1}$ повернет $\vec{v}$ на $\alpha$ градусов вокруг оси $\vec{u}$ (против часовой стрелки, если смотреть с конца $\vec{u}$). Ну и оказывается что $q^{-1}=\cos{\frac{\alpha}{2}} - \vec{u} \sin{\frac{\alpha}{2}}$ 

## Доказательство, что это действительно поворот
$$\vec{v'} = q\vec{v}q^{-1} = (\cos{\frac{\alpha}{2}} + \vec{u} \sin{\frac{\alpha}{2}}) \vec{v} (\cos{\frac{\alpha}{2}} - \vec{u} \sin{\frac{\alpha}{2}}),$$
Если честно мне лень это расписывать, но я руками на бумаге проверил и действительно сходится в соответствии с нашими определениями операций.
Причем, в ходе доказательства также видно, что кватернион поворота умноженный на $-1$ задаёт точно такой же поворот.

## В чём профит?

А прикол в том что теперь пусть у нас два кватерниона поворота: $q, p$.
Тогда мы такие типа: развернем сначала с помощью $q$, а потом с помощью $p$:
$$\vec{v'} = pq \vec{v} q^{-1} p^{-1}$$
Далее бла-бла-бла и получается что кватернион $pq$ задает вот такой поворот какой мы и хотели.

То есть теперь можно вообще чо хотим делать, хотим вот мы допустим углы Эйлера использовать - пожалуйста - делай три кватерниона, перемножай, далее используй уже готовый кватернион данного поворота.